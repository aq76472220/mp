define([],function(){var e=function(e){this.date=e||new Date};return e.prototype.isLeapYear=function(){return 0==this.date.getYear()%4&&(this.date.getYear()%100!=0||this.date.getYear()%400==0)},e.prototype.Format=function(e){var t=e,a=["日","一","二","三","四","五","六"];return t=t.replace(/yyyy|YYYY/,this.date.getFullYear()),t=t.replace(/yy|YY/,this.date.getYear()%100>9?(this.date.getYear()%100).toString():"0"+this.date.getYear()%100),t=t.replace(/MM/,this.date.getMonth()>9?(this.date.getMonth()+1).toString():"0"+(this.date.getMonth()+1)),t=t.replace(/M/g,this.date.getMonth()+1),t=t.replace(/w|W/g,a[this.date.getDay()]),t=t.replace(/dd|DD/,this.date.getDate()>9?this.date.getDate().toString():"0"+this.date.getDate()),t=t.replace(/d|D/g,this.date.getDate()),t=t.replace(/hh|HH/,this.date.getHours()>9?this.date.getHours().toString():"0"+this.date.getHours()),t=t.replace(/h|H/g,this.date.getHours()),t=t.replace(/mm/,this.date.getMinutes()>9?this.date.getMinutes().toString():"0"+this.date.getMinutes()),t=t.replace(/m/g,this.date.getMinutes()),t=t.replace(/ss|SS/,this.date.getSeconds()>9?this.date.getSeconds().toString():"0"+this.date.getSeconds()),t=t.replace(/s|S/g,this.date.getSeconds())},e.daysBetween=function(e,t){var a=e.substring(5,e.lastIndexOf("-")),r=e.substring(e.length,e.lastIndexOf("-")+1),n=e.substring(0,e.indexOf("-")),s=t.substring(5,t.lastIndexOf("-")),g=t.substring(t.length,t.lastIndexOf("-")+1),i=t.substring(0,t.indexOf("-")),u=(Date.parse(a+"/"+r+"/"+n)-Date.parse(s+"/"+g+"/"+i))/864e5;return Math.abs(u)},e.prototype.DateAdd=function(e,t){var a=this.date;switch(e){case"s":return new Date(Date.parse(a)+1e3*t);case"n":return new Date(Date.parse(a)+6e4*t);case"h":return new Date(Date.parse(a)+36e5*t);case"d":return new Date(Date.parse(a)+864e5*t);case"w":return new Date(Date.parse(a)+6048e5*t);case"q":return new Date(a.getFullYear(),a.getMonth()+3*t,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());case"m":return new Date(a.getFullYear(),a.getMonth()+t,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());case"y":return new Date(a.getFullYear()+t,a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds())}},e.prototype.DateDiff=function(e,t){var a=this.date;switch("string"==typeof t&&(t=StringToDate(t)),e){case"s":return parseInt((t-a)/1e3);case"n":return parseInt((t-a)/6e4);case"h":return parseInt((t-a)/36e5);case"d":return parseInt((t-a)/864e5);case"w":return parseInt((t-a)/6048e5);case"m":return t.getMonth()+1+12*(t.getFullYear()-a.getFullYear())-(a.getMonth()+1);case"y":return t.getFullYear()-a.getFullYear()}},e.prototype.toString=function(e){var t=this.date,a=t.toLocaleDateString();if(e){a+=" 星期"+["日","一","二","三","四","五","六"][t.getDay()]}return a},e.IsValidDate=function(e){var t=e.replace(/(^\s+|\s+$)/g,"");if(""==t)return!0;if(""!=t.replace(/[\d]{ 4,4 }[\-\/]{ 1 }[\d]{ 1,2 }[\-\/]{ 1 }[\d]{ 1,2 }/g,""))return!1;var a=new Date(t.replace(/\-/g,"/")),r=t.split(/[-\/:]/);return r[0]==a.getYear()&&r[1]==a.getMonth()+1&&r[2]==a.getDate()},e.CheckDateTime=function(e){var t=/^(\d+)-(\d{ 1,2 })-(\d{ 1,2 }) (\d{ 1,2 }):(\d{ 1,2 }):(\d{ 1,2 })$/,a=e.match(t);if(null==a)return!1;a[2]=a[2]-1;var r=new Date(a[1],a[2],a[3],a[4],a[5],a[6]);return r.getFullYear()==a[1]&&(r.getMonth()==a[2]&&(r.getDate()==a[3]&&(r.getHours()==a[4]&&(r.getMinutes()==a[5]&&r.getSeconds()==a[6]))))},e.prototype.toArray=function(){var e=this.date,t=Array();return t[0]=e.getFullYear(),t[1]=e.getMonth(),t[2]=e.getDate(),t[3]=e.getHours(),t[4]=e.getMinutes(),t[5]=e.getSeconds(),t},e.prototype.DatePart=function(e){var t=this.date,a="",r=["日","一","二","三","四","五","六"];switch(e){case"y":a=t.getFullYear();break;case"m":a=t.getMonth()+1;break;case"d":a=t.getDate();break;case"w":a=r[t.getDay()];break;case"ww":a=t.WeekNumOfYear();break;case"h":a=t.getHours();break;case"n":a=t.getMinutes();break;case"s":a=t.getSeconds()}return a},e.prototype.MaxDayOfDate=function(){var e=this.date,t=e.toArray(),a=new Date(t[0],t[1]+1,1),r=a.dateAdd(1,"m",1);return dateDiff(a.Format("yyyy-MM-dd"),r.Format("yyyy-MM-dd"))},e.StringToDate=function(e){var t=Date.parse(e),a=new Date(t);if(isNaN(a)){var r=e.split("-");a=new Date(r[0],--r[1],r[2])}return a},e.CurentTime=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate(),n=e.getHours(),s=e.getMinutes(),g=t+"-";return a<10&&(g+="0"),g+=a+"-",r<10&&(g+="0"),g+=r+" ",n<10&&(g+="0"),g+=n+":",s<10&&(g+="0"),g+=s},e});
var modules=["api/balance","assets/js/date","text!../views/balance.html","css!../../static/assets/css/balance.css"];define(modules,function(e,t,a){return{name:"balance",template:a,data:function(){return{forms:[],model:{page:1,form:"",date:""},balanceLogs:[],total:0,size:0,balance:0,incomeNum:0,expendNum:0,format:"yyyy-MM-dd"}},created:function(){var e=this;this.list().then(function(t){var a=t.data;e.forms=a.forms,e.balance=a.balance,e.incomeNum=a.incomeNum,e.expendNum=a.expendNum,e.total=a.balanceLogs.total,e.size=a.balanceLogs.per_page,e.balanceLogs=a.balanceLogs.data})},watch:{"model.page":function(){this.getInfo()},"model.date":function(e){if("string"!=typeof e){var a=new t(e);this.model.date=a.Format(this.format)}}},methods:{empty:function(){this.model.form="",this.model.date=""},getInfo:function(){var e=this;this.list().then(function(t){var a=t.data;e.total=a.balanceLogs.total,e.balanceLogs=a.balanceLogs.data})},pageChange:function(e){this.model.page=e},search:function(){this.model.page=1,this.getInfo()},list:function(){this.model.date=this.model.date||"";var t=this;return new Promise(function(a){e.index(t.model).then(function(e){a(e.data)})})}}}});
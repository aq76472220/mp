var modules=["api/applet","libs/tools","text!../views/applet.html","css!../../static/assets/css/bill.css"];define(modules,function(t,a,e){return{name:"applet",template:e,data:function(){return{form:{name:"",state:"",page:1,user_id:""},tableSmallProgram:[],total:0,size:0,states:[]}},watch:{"form.page":function(){this.getInfo()}},methods:{list:function(){var a=this;return new Promise(function(e){t.index(a.form).then(function(t){e(t.data)})})},formatting:function(){a.forEach(this.tableSmallProgram,function(t){t.app_id=parseInt(t.app_id)+8e3,t.authorize=t.applet_name?"是":"否",t.applet_name=t.applet_name||"未授权小程序",t.package_name=t.package_name+"套餐/"+t.original_money})},getInfo:function(){var t=this;this.list().then(function(a){var e=a.data;t.total=e.applys.total,t.tableSmallProgram=e.applys.data,t.formatting()})},empty:function(){this.form.name="",this.form.state=""},pageChange:function(t){this.form.page=t},search:function(){this.form.page=1,this.getInfo()}},created:function(){this.form.user_id=this.$route.query.user_id||"";var t=this;this.list().then(function(a){var e=a.data;t.states=e.states,t.total=e.applys.total,t.size=e.applys.per_page,t.tableSmallProgram=e.applys.data,t.formatting()})}}});